#  20 |  为什么我只改一行的语句，锁这么多？

### 1、间隙锁的加锁规则

- 加锁的基本单位是 next-key lock。next-key lock 是前开后闭区间 
- 查找过程中访问到的对象才会加锁
- 索引上的等值查询，给`唯一索引`加锁的时候，next-key lock 退化为行锁。
- 索引上的等值查询，向右遍历时且最后一个值不满足等值条件的时候,next-key lock 退化为间隙锁。
- 一个 bug：唯一索引上的范围查询会访问到不满足条件的第一个值为止



