# 09 | 普通索引和唯一索引的选择？
### 1、查询过程
> 对于普通索引，查询满足条件的第一条记录，接着需要查找下一条记录，直至碰到不满足的为止。  
> 对于唯一索引，由于索引定义了唯一性，查找到第一个满足条件的记录后，就会停止继续检索。
> 查询的性能差别 忽略不计。

### 2、更新过程

#### 2.1 change buffer
> - 当需要更新一个数据页时，如果数据页在内存中则直接更新  
> - 不在内存中，在不影响数据一致性的前提下，InnoDB 会将这些更新操作缓存在 change buffer中，这样就不需从数据磁盘中读入这个数据页了。    下次查询需要访问的时候，将数据页读入内存，然后执行change buffer与这个页有关的操作，保证数据逻辑的正确性。  
> - change buffer :实际上可以持久化数据，在内存中拷贝也会写入磁盘。
> - 将change buffer 中的操作应用到原始的数据页，得到最新的结果称为merge ,系统后台也会定期merge ,数据库执行关闭时，也会执行merge 操作。

  

