# 05 | 索引(下)

### 1、索引的查询

>   已知 `select * from table where index between a and b` index为普通索引   
> 执行流程  
>1、在index的索引树上找到index = a 的记录，取得主键ID 的值 aid  
>2、再通过ID索引树查到ID= aid 对应的记录  
>3、 重复上面
>4、最后在index树是上取下一个大于 b 的值 b+1 ，不满足条件，结束查询。

- 回表
> 在上述过程中，回到主键索引树搜索的过程，我们称为`回表`。

- 覆盖索引
> 如果查询条件使用的是普通索引（或是联合索引的最左原则字段），查询结果是联合索引的字段或是主键，不用回表操作，直接返回结果，减少IO磁盘读写读取正行数据 .  
>`由于覆盖索引可以减少树的搜索次数，显著提升查询性能，所以使用覆盖索引是一个常用的性能优化手段。`


- 最左前缀原则
>B+Tree这种索引结构，可以利用索引的`最左前缀`来定位记录  只要满足最左前缀，就可以利用索引来加速检索。  
最左前缀可以是联合索引的最左N个字段，也可以是字符串索引的最左M个字符  
第一原则是：如果通过调整顺序，可以少维护一个索引，那么这个顺序往往就是需要优先考虑采用的。

- 索引下推
> 在MySQL5.6之前，只能从根据最左前缀查询到ID开始一个个回表。到主键索引上找出数据行，再对比字段值。  
> MySQL5.6引入的索引下推优化，可以在索引遍历过程中，对索引中包含的字段先做判断，直接过滤掉不满足条件的记录，减少回表次数。


